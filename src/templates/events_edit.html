{% extends "base.html" %}

{% block head %}
    <title>Editar Evento</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style/events_edit.css') }}">
{% endblock head %}

{% block content %}
<div class="main-content">
    <div class="header">
        {% include "components/flash.html"%}
        <h1>Editar Evento</h1>
        
        <a href="{{ url_for('events.events') }}" class="btn-cancel">
            <i class="fas fa-arrow-left"></i> Voltar para Eventos
        </a>
    </div>

    <div class="form-container">
        <form method="POST" action="{{ url_for('events.events_edit', event_id=event.id) }}" class="event-form">
            
            <div class="form-group">
                <label for="titulo_evento">Título do Evento *</label>
                <input type="text"
                       id="titulo_evento"
                       name="titulo_evento"
                       placeholder="Digite o título do evento"
                       value="{{ event.titulo_evento }}"
                       required>
            </div>

            <div class="form-group">
                <label for="data">Data do Evento *</label>
                <input type="date"
                       id="data"
                       name="data"
                       value="{{ event.data.strftime('%Y-%m-%d') if event.data else '' }}"
                       required>
            </div>

            <div class="form-group">
                <label for="tipo_evento_id">Tipo de Evento *</label>
                <select id="tipo_evento_id" name="tipo_evento_id" required>
                    <option value="" disabled>Tipo do evento</option>
                    {% for tipo in tipo_eventos %}
                        <option value="{{ tipo.id }}"
                            {% if tipo.id == event.tipo_evento_id %}selected{% endif %}>
                            {{ tipo.nome }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="relevancia_id">Relevância *</label>
                <select id="relevancia_id" name="relevancia_id" required>
                    <option value="" disabled>Nível de relevância</option>
                    {% for nivel in niveis_relevancia %}
                        <option value="{{ nivel.id }}"
                            {% if nivel.id == event.relevancia_id %}selected{% endif %}>
                            {{ nivel.nivel }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-buttons">
                <a href="{{ url_for('events.events') }}" class="btn-cancel">
                    Cancelar
                </a>
                <button type="submit" class="btn-submit">
                    <i class="fas fa-save"></i> Salvar Alterações
                </button>
            </div>

        </form>
    </div>
</div>
{% endblock %}