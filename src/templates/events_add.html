{% extends "base.html" %}


{% block head %}
     <link rel="stylesheet" href="{{ url_for('static', filename='style/events_add.css') }}">
{% endblock head %}

{% block content %}

    <div id="eventModal" class="modal-overlay">
        <div class="modal-container">

            <h2 class="modal-title">Adicionar Evento</h2>

            <form method="POST" action="{{ url_for('events.events_add') }}" class="modal-form">

                <input type="text" name="titulo_evento" placeholder="Título do evento" required>

                <input type="date" name="data" required>

                <!-- TIPOS DE EVENTOS -->
                <select name="tipo_evento_id" required>
                    <option value="" disabled selected>Tipo do evento</option>
                    {% for tipo in tipo_eventos %}
                        <option value="{{ tipo.id }}">{{ tipo.nome }}</option>
                    {% endfor %}
                </select>

                <!-- RELEVÂNCIA -->
                <select name="relevancia_id" required>
                    <option value="" disabled selected>Relevância</option>
                    {% for nivel in niveis_relevancia %}
                        <option value="{{ nivel.id }}">{{ nivel.nivel }}</option>
                    {% endfor %}
                </select>

                <div class="modal-buttons">
                    <button type="button" class="btn-cancel" id="closeModalBtn">Cancelar</button>
                    <button type="submit" class="btn-submit">Salvar</button>
                </div>

            </form>
        </div>
    </div>

    <script>
        const modal = document.getElementById("eventModal");
        const openBtns = document.querySelectorAll("#openModalBtn");
        const closeBtn = document.getElementById("closeModalBtn");

        openBtns.forEach(btn => {
            btn.addEventListener("click", () => {
                modal.style.display = "flex";
            });
        });

        closeBtn.addEventListener("click", () => {
            modal.style.display = "none";
        });

        window.addEventListener("click", (e) => {
            if (e.target === modal) {
                modal.style.display = "none";
            }
        });
    </script>
{% endblock %}
